webpackJsonp([1],{91:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(167),i=r(o);t.default=i.default},166:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var i=o(["\n  50% {\n    transform: scale(1);\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n"],["\n  50% {\n    transform: scale(1);\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n"]),a=o(["\n  width: 10px;\n  height: 10px;\n  border: 2px solid black;\n  border-radius: 50%;\n  margin: 0 5px;\n  transform: scale(0);\n  animation: "," 1000ms ease infinite 0ms;\n\n  &:nth-child(2) {\n    animation: "," 1000ms ease infinite 300ms;\n  }\n\n  &:nth-child(3) {\n    animation: "," 1000ms ease infinite 600ms;\n  }\n"],["\n  width: 10px;\n  height: 10px;\n  border: 2px solid black;\n  border-radius: 50%;\n  margin: 0 5px;\n  transform: scale(0);\n  animation: "," 1000ms ease infinite 0ms;\n\n  &:nth-child(2) {\n    animation: "," 1000ms ease infinite 300ms;\n  }\n\n  &:nth-child(3) {\n    animation: "," 1000ms ease infinite 600ms;\n  }\n"]),l=n(8),u=r(l),s=(0,l.keyframes)(i),c=u.default.div(a,s,s,s);t.default=c},167:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=r(o),a=n(166),l=r(a),u=n(168),s=r(u),c=function(){return i.default.createElement(s.default,null,i.default.createElement(l.default,null),i.default.createElement(l.default,null),i.default.createElement(l.default,null))};t.default=c},168:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var i=o(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n"],["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n"]),a=n(8),l=r(a),u=l.default.div(i);t.default=u},169:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){var n={industry:function(e){return e.industries.includes(t)},company:function(e){return e.companies.includes(t)},station:function(e){return e.station===t},all:function(e){return e}};return n[e]}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(4),f=r(c),d=n(1),p=r(d),h=n(38),v=n(102),m=r(v),b=n(41),_=n(91),y=r(_),g=n(171),w=r(g),O=n(170),k=r(O),P=n(173),j=r(P),x=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={loading:!0,svg:null,grabbing:!1},n}return l(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;fetch(this.props.svgurl).then(function(e){return e.text()}).then(function(t){e.setState({loading:!1,svg:t}),e.initPanZoom(),e.bindMarkers(),e.initMarkers()}).catch(function(e){console.log("There has been a problem with a fetch operation: "+e.message)})}},{key:"componentDidUpdate",value:function(){this.markers&&this.filterMarkers(this.props.globalStore.markersFilter)}},{key:"initPanZoom",value:function(){this.panZoom=new j.default(this.wrapper),this.panZoom.update({scale:1.3})}},{key:"initMarkers",value:function(){var e=this.props.globalStore.companies,t=(0,m.default)(e,"station"),n=(0,b.uniq)(e.map(function(e){return e.station})).filter(function(e){return""!==e}),r=function(e){return e/40+.7},i=[].concat(o(this.wrapper.querySelectorAll("[data-station]"))).filter(function(e){return n.includes(e.dataset.station)}).map(function(e){return{el:e,station:e.dataset.station,industries:(0,b.uniq)(t[e.dataset.station].map(function(e){return e.industry})),companies:t[e.dataset.station].map(function(e){return e.name}),companiesTotal:t[e.dataset.station].length}});i.forEach(function(e){e.el.style.display="block",e.el.style.transform="scale("+r(e.companiesTotal)+")"}),this.markers=i}},{key:"filterMarkers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.key,n=void 0===t?"all":t,r=e.value,o=void 0===r?"":r,i=this.markers.filter(u(n,o)),a={fill:"#f75850",stroke:"#b3382c"};"industry"===n&&(a.fill=(0,b.getThemeColor)(o),a.stroke="black"),"company"===n&&(a.fill=(0,b.getThemeColor)(this.props.globalStore.companies.find(function(e){return e.name===o}).industry),a.stroke="black"),this.markers.forEach(function(e){i.includes(e)?(e.el.style.display="block",e.el.style.opacity=1,e.el.style.fill=a.fill,e.el.style.stroke=a.stroke):e.el.style.opacity=.6})}},{key:"bindMarkers",value:function(){document.addEventListener("click",function(e){var t=e.target.dataset.station;t&&h.browserHistory.push("/london/station/"+encodeURIComponent(t))})}},{key:"render",value:function(){var e=this,t=this.state,n=t.loading,r=t.svg,o=t.grabbing;return f.default.createElement("div",{style:{height:"100%"}},n?f.default.createElement(y.default,null):f.default.createElement(w.default,{innerRef:function(t){return e.wrapper=t},dangerouslySetInnerHTML:{__html:r},grabbing:o}),f.default.createElement(k.default,{"aria-hidden":"true"}))}}]),t}(c.PureComponent);x.propTypes={svgurl:p.default.string.isRequired,globalStore:p.default.object},t.default=x},170:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var i=o(["\n  display: none;\n  pointer-events: none;\n\n  ","\n"],["\n  display: none;\n  pointer-events: none;\n\n  ","\n"]),a=o(["\n    display: inline-block;\n    pointer-events: auto;\n    position: absolute;\n    z-index: 1;\n    right: 8px;\n    bottom: 8px;\n  "],["\n    display: inline-block;\n    pointer-events: auto;\n    position: absolute;\n    z-index: 1;\n    right: 8px;\n    bottom: 8px;\n  "]),l=n(4),u=r(l),s=n(8),c=r(s),f=n(40),d=c.default.a(i,f.media.large(a)),p=function(){return u.default.createElement(d,{href:"https://www.honeypot.io",target:"_blank"},u.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 430.7 108.7",height:"26"},u.default.createElement("path",{fill:"#FFBE0F",d:"M85 61.6c-.5-6.8-2.1-13.4-4.5-19.5-.7-1.6-1.4-3.2-2.1-4.7 2.8-1.6 4.7-4.7 4.7-8.1 0-5.2-4.2-9.5-9.5-9.5H15.7c-5.2 0-9.5 4.2-9.5 9.5 0 3.5 1.9 6.5 4.6 8.1-.8 1.5-1.5 3.1-2.1 4.7-2.5 6.1-4.1 12.6-4.6 19.5 0 .8-.1 1.6-.1 2.5C4 70 5 75.7 6.7 81c.5 1.5 1.5 4.1 2.8 5.8.1.2.3.4.4.5l.1.1c.5.7 1.2 1.4 2 2.1.8.7 1.7 1.4 2.8 2 1 .6 2.3 1 3.5 1.2 1.3.2 2.6 0 3.6-.7s1.8-1.9 2.2-3.3c.9-2.8.8-6 .5-8.8-.3-2.9-.8-5.6-1.3-7.8-1.1-4.6-2.1-7.5-2.1-7.5s1.2 2.9 2.6 7.4c.7 2.3 1.4 4.9 1.9 7.8.5 2.9.8 6.1.1 9.4-.4 1.6-1.2 3.3-2.6 4.5-1.5 1.2-3.3 1.5-4.9 1.6-1.7 0-3.3-.4-4.6-.9-.2-.1-.3-.1-.5-.2 2.5 3.8 5.6 7.3 9 10.4 1.8 1 4.8 1.7 8.7-.3 6.8-3.5 13.7-3.9 13.7-3.9s6.8.4 13.7 3.9c4.6 2.4 7.9 1 9.5-.2 3.2-2.9 6-6.2 8.4-9.8-.2.1-.3.1-.4.2-1.4.5-2.9.9-4.6.9-1.6 0-3.5-.4-4.9-1.6-1.5-1.2-2.3-2.9-2.6-4.5-.7-3.3-.4-6.5.1-9.4.5-2.9 1.2-5.6 1.9-7.8 1.4-4.5 2.6-7.4 2.6-7.4s-1 3-2.1 7.5c-.5 2.3-1 5-1.3 7.8-.3 2.9-.4 6 .5 8.8.4 1.4 1.2 2.6 2.2 3.3 1 .7 2.3.9 3.6.7 1.2-.2 2.4-.6 3.5-1.2s2-1.3 2.8-2c1.1-.9 1.9-1.9 2.5-2.7 1-1.4 1.8-3.3 2.4-4.8 2-5.6 3-11.6 3-17.9-.4-.9-.4-1.8-.4-2.6z"}),u.default.createElement("circle",{fill:"#FFF",cx:"27.5",cy:"36.1",r:"8.6"}),u.default.createElement("path",{fill:"#1F2228",d:"M15.7 24.5c-2.6 0-4.7 2.1-4.7 4.7 0 1.7.9 3.2 2.2 4 1.6-2.7 3.5-5.3 5.5-7.7-.8-.5-1.8-1-3-1zm57.8 0c-1.1 0-2.2.4-3 1.1 2 2.4 3.8 5 5.5 7.7 1.3-.8 2.3-2.3 2.3-4-.1-2.6-2.2-4.8-4.8-4.8zm-46 7.7c-.3 0-.5 0-.8.1.2.3.2.6.2 1 0 1.2-.9 2.1-2.1 2.1-.4 0-.8-.1-1.1-.3-.1.3-.1.6-.1 1 0 2.1 1.7 3.8 3.8 3.8 2.1 0 3.8-1.7 3.8-3.8.1-2.2-1.6-3.9-3.7-3.9z"}),u.default.createElement("circle",{fill:"#FFF",cx:"61.7",cy:"36.1",r:"8.6"}),u.default.createElement("path",{fill:"#1F2228",d:"M61.7 32.2c-.3 0-.5 0-.8.1.2.3.2.6.2 1 0 1.2-.9 2.1-2.1 2.1-.4 0-.8-.1-1.1-.3-.1.3-.1.6-.1 1 0 2.1 1.7 3.8 3.8 3.8s3.8-1.7 3.8-3.8c.2-2.2-1.6-3.9-3.7-3.9z"}),u.default.createElement("circle",{fill:"#FFF",cx:"44.5",cy:"52.7",r:"11.7"}),u.default.createElement("path",{fill:"#1F2228",d:"M50.6 46.3c0-.2 0-.3-.1-.5v-.1c-.1-.1-.1-.3-.2-.4 0 0-.7-1.4-5.7-1.4-2.9 0-4.4.5-5.1.9-.4.2-.8.5-.9.9v.1c0 .1-.1.3-.1.4 0 .7.2 2 1.9 3.4 1.5 1.2 2.7 1.7 3.4 1.8v12.9h1.6V51.6c.7-.2 1.9-.6 3.4-1.8 1.5-1.4 1.8-2.7 1.8-3.5z"}),u.default.createElement("path",{fill:"#FFBE0F",d:"M25.6 17.3h37.9c-4.5-3.1-9.9-5.2-15.6-5.7l2.3-6.3s-1.5-1.2-5.6-1.2S39 5.3 39 5.3l2.3 6.3c-5.9.5-11.2 2.6-15.7 5.7z"}),u.default.createElement("path",{fill:"#FFF",d:"M10.5 82.9s-.6-.8-1.3-2.2c-.7-1.4-1.4-3.3-1.9-5.3s-.7-4-.7-5.6c0-1.5.1-2.6.1-2.6s.1.2.2.7c.1.5.2 1.1.4 1.9.3 1.5.7 3.4 1.2 5.4.4 2 .9 3.9 1.3 5.3.2.7.4 1.3.5 1.8.2.4.2.6.2.6zm58.6-12.3s0 .7-.1 1.7-.3 2.3-.6 3.6c-.3 1.3-.6 2.6-.9 3.5-.1.5-.3.9-.4 1.2-.1.2-.1.4-.1.4s-.1-.7-.1-1.7.1-2.4.4-3.7c.3-1.3.7-2.6 1.1-3.5.3-.9.7-1.5.7-1.5zM15.6 21s-.7.3-1.6.8c-.5.3-1 .6-1.5 1s-1 .9-1.5 1.4c-.5.5-.9 1.1-1.3 1.6-.4.6-.7 1.1-.9 1.6-.3.5-.5.9-.6 1.2-.1.3-.2.5-.2.5v-.5c0-.3 0-.8.2-1.4.1-.6.4-1.2.7-1.8.3-.6.8-1.3 1.3-1.8 1.1-1.1 2.5-1.9 3.6-2.2 1-.5 1.8-.4 1.8-.4z"}),u.default.createElement("path",{d:"M174.5 45.5c-5.4 0-10 1.7-13.7 5.2-3.7 3.5-5.6 7.9-5.6 13.3s1.9 9.8 5.6 13.3c3.7 3.5 8.3 5.2 13.7 5.2 5.5 0 10.1-1.7 13.8-5.2 3.7-3.5 5.6-7.9 5.6-13.3s-1.9-9.8-5.6-13.3c-3.8-3.5-8.4-5.2-13.8-5.2zm7.5 26.4c-2 2.1-4.5 3.1-7.5 3.1-2.9 0-5.4-1-7.4-3.1-2-2-3-4.7-3-7.9s1-5.8 3-7.9c2-2.1 4.5-3.1 7.4-3.1 2.9 0 5.4 1 7.4 3.1 2.1 2.1 3.1 4.7 3.1 7.9s-1 5.8-3 7.9zm78.7-26.4c-5.3 0-9.6 1.7-12.9 5.2-3.3 3.4-5 7.9-5 13.3 0 5.2 1.7 9.5 5.2 13.1 3.5 3.6 8.1 5.4 13.7 5.4 1.7 0 3.3-.2 4.9-.6 1.6-.4 2.9-.8 3.9-1.3s2-1 2.9-1.6c.9-.6 1.6-1 1.8-1.3l.6-.6-3.7-6.1-1.2 1c-.8.6-2 1.3-3.7 2-1.7.7-3.3 1-5 1-2.8 0-5.1-.8-7.1-2.5s-3.1-4-3.5-7H276l.2-3.3c0-4.8-1.4-8.8-4.2-12-2.6-3.1-6.4-4.7-11.3-4.7zm-8.6 13.9c.5-2.2 1.5-4 3-5.2 1.5-1.3 3.4-1.9 5.6-1.9 1.8 0 3.4.7 4.7 2 1.3 1.3 1.9 3 2 5.1h-15.3zm90.3-13.9c-1.5 0-3 .2-4.3.6-1.4.4-2.4.9-3.2 1.3-.8.5-1.5 1.1-2.1 1.7-.6.6-1.1 1.1-1.2 1.3-.2.3-.3.5-.4.6h-.1v-1.4c0-2.3-1.5-3.4-4.4-3.4h-16c-2.4 0-4 1.1-4.7 3.3l-.2.6-7 20.3-8.3-20.9c-.5-1.2-1-2.1-1.7-2.6s-1.7-.8-2.9-.8H279l1 2.2 2.9 6.5 11.8 26.5-1.2 2.7c-1.2 3-3.2 4.5-5.8 4.5-1.9 0-3.6-.8-5.1-2.4l-3.4 6.2 1 .9c.6.6 1.7 1.2 3.2 1.8 1.5.6 3 .9 4.7.9 2.8 0 5.3-.8 7.5-2.3 2.3-1.5 4-3.8 5.2-6.9L313.5 55c.3-.8 1-1.2 2-1.2h6.1c1 0 1.5.5 1.5 1.5v40.1h8.7V80.8c0-1.2 0-2.2-.1-3h.1l1 1.2c.6.7 1.8 1.5 3.5 2.3 1.7.8 3.6 1.2 5.6 1.2 4.7 0 8.6-1.7 11.6-5.1 3-3.4 4.6-7.9 4.6-13.4s-1.4-9.9-4.3-13.4c-2.8-3.4-6.6-5.1-11.4-5.1zm4.3 26.6c-1.7 2-3.8 2.9-6.4 2.9-2.8 0-4.9-1.1-6.4-3.2s-2.3-4.7-2.3-7.6c0-3.7.9-6.5 2.6-8.3 1.7-1.9 3.8-2.8 6.3-2.8 2.6 0 4.7 1 6.4 3 1.6 2 2.4 4.7 2.4 8 0 3.4-.9 6-2.6 8zm35.2-26.6c-5.4 0-10 1.7-13.7 5.2-3.7 3.5-5.6 7.9-5.6 13.3s1.9 9.8 5.6 13.3c3.7 3.5 8.3 5.2 13.7 5.2 5.5 0 10.1-1.7 13.8-5.2 3.7-3.5 5.6-7.9 5.6-13.3s-1.9-9.8-5.6-13.3c-3.8-3.5-8.4-5.2-13.8-5.2zm7.5 26.4c-2 2.1-4.5 3.1-7.5 3.1-2.9 0-5.4-1-7.4-3.1-2-2-3-4.7-3-7.9s1-5.8 3-7.9c2-2.1 4.5-3.1 7.4-3.1 2.9 0 5.4 1 7.4 3.1 2.1 2.1 3.1 4.7 3.1 7.9s-1 5.8-3 7.9zm35.7 2.3c-1.8 0-3.4-.5-4.8-1.4-1.5-.9-2.2-2.7-2.2-5.2V53.3h8v-7h-8v-9.6h-8.6v9.6h-4.8v7h4.6v15.4c0 2.3.4 4.2 1.1 5.9.7 1.7 1.6 3 2.6 3.9 1 .9 2.3 1.6 3.7 2.2 1.4.6 2.7.9 3.8 1.1 1.1.2 2.3.2 3.5.2 1.1 0 2-.1 2.7-.2v-7.7l-1.6.1zm-285.8-37v16.1h-21.7V37.2c0-1.6-.4-2.8-1.1-3.6-.7-.8-1.9-1.1-3.6-1.1h-4.4v49.1h9.1V61h21.7v20.6h9.1V32.5H144c-3.1 0-4.7 1.5-4.7 4.7zm83.4 8.3c-3.2 0-5.8.7-7.9 2.2-2.1 1.5-3.6 3.2-4.6 5.1h-.1l.1-1.5v-1c0-2.6-1.5-3.9-4.6-3.9h-3.8v35.2h8.7V65.4c0-1.8.2-3.3.7-4.7.6-2.2 1.8-3.9 3.5-5.2 1.7-1.3 3.7-2 6-2 2.1 0 3.5.6 4.3 1.8.8 1.2 1.2 3 1.2 5.4v16.2c0 1.7.4 2.9 1.1 3.6.7.7 1.9 1.1 3.6 1.1h4.1V58.9c.1-8.9-4.1-13.4-12.3-13.4z",fill:"#1F2228"})))};t.default=p},171:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var i=o(["\n  cursor: ",";\n\n  /* TODO: perf => pointer-events: none; */\n  user-select: none;\n\n  /* centered zoom */\n  position: absolute;\n  top: 50%;\n  left: 50%;\n\n  & > svg {\n    /* centered zoom */\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  }\n\n  /* marker */\n  [data-station] {\n    display: none;\n    transform-origin: bottom;\n    transition: all 0.13s cubic-bezier(0, 0, 0.3, 1);\n    cursor: pointer;\n    fill: #f75850;\n    stroke: #b3382c;\n  }\n"],["\n  cursor: ",";\n\n  /* TODO: perf => pointer-events: none; */\n  user-select: none;\n\n  /* centered zoom */\n  position: absolute;\n  top: 50%;\n  left: 50%;\n\n  & > svg {\n    /* centered zoom */\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  }\n\n  /* marker */\n  [data-station] {\n    display: none;\n    transform-origin: bottom;\n    transition: all 0.13s cubic-bezier(0, 0, 0.3, 1);\n    cursor: pointer;\n    fill: #f75850;\n    stroke: #b3382c;\n  }\n"]),a=n(8),l=r(a),u=l.default.div(i,function(e){return e.grabbing?"move":"default"});t.default=u},172:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(169),i=r(o);t.default=i.default},173:function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return{x:e.pageX,y:e.pageY}}function i(e,t){var n=Math.abs(t.x-e.x),r=Math.abs(t.y-e.y);return Math.sqrt(n*n+r*r)}function a(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function l(e){return e.touches?[].concat(n(e.touches)).map(o):[o(e)]}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=o.eventArea,s=void 0===u?t:u;r(this,e),this._onWheel=function(e){e.preventDefault();var t=n._target.getBoundingClientRect(),r=e.deltaY;1===e.deltaMode&&(r*=15),r=Math.max(Math.min(r,60),-60);var o=r/300+1;n._scale*o<.05||n._scale>=3&&o>1||n._scale<=1&&o<1||(n._scale*=o,n._dx-=(e.pageX-t.left)*(o-1),n._dy-=(e.pageY-t.top)*(o-1))},this._onPointerDown=function(e){"mousedown"===e.type&&1!==e.which||(e.preventDefault(),n._lastPoints=l(e),n._active++,1===n._active&&n._onFirstPointerDown(e))},this._onPointerMove=function(e){e.preventDefault();var t=l(e),r=t.reduce(a),o=n._lastPoints.reduce(a),u=n._target.getBoundingClientRect();if(n._dx+=r.x-o.x,n._dy+=r.y-o.y,t[1]){var s=i(t[0],t[1])/i(n._lastPoints[0],n._lastPoints[1]);n._scale*=s,n._dx-=(r.x-u.left)*(s-1),n._dy-=(r.y-u.top)*(s-1)}n._lastPoints=t},this._update=function(){requestAnimationFrame(n._update),n._dx+","+n._dy+","+n._scale!==n._prevState&&(n._prevState=n._dx+","+n._dy+","+n._scale,n._target.style.transform="\n      translate("+n._dx+"px, "+n._dy+"px)\n      scale("+n._scale+")\n    ")},this._onPointerUp=function(e){return e.preventDefault(),n._active--,n._lastPoints.pop(),n._active?void(n._lastPoints=l(e)):(document.removeEventListener("mousemove",n._onPointerMove),document.removeEventListener("mouseup",n._onPointerUp),document.removeEventListener("touchmove",n._onPointerMove),void document.removeEventListener("touchend",n._onPointerUp))},this._target=t,this._dx=0,this._dy=0,this._scale=1,this._active=0,this._lastPoints=[],this._prevState={x:0,y:0,scale:1},s.addEventListener("mousedown",this._onPointerDown),s.addEventListener("touchstart",this._onPointerDown),s.addEventListener("wheel",this._onWheel),requestAnimationFrame(this._update)}return u(e,[{key:"update",value:function(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,i=e.scale,a=void 0===i?1:i;this._dx=n,this._dy=o,this._scale=a,this._update()}},{key:"reset",value:function(){this._dx=0,this._dy=0,this._scale=1,this._update()}},{key:"_onFirstPointerDown",value:function(e){document.addEventListener("mousemove",this._onPointerMove),document.addEventListener("mouseup",this._onPointerUp),document.addEventListener("touchmove",this._onPointerMove),document.addEventListener("touchend",this._onPointerUp)}}]),e}();t.default=s},174:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var i=o(["\n  overflow-y: auto;\n  height: 100%;\n  -webkit-overflow-scrolling: touch;\n"],["\n  overflow-y: auto;\n  height: 100%;\n  -webkit-overflow-scrolling: touch;\n"]),a=n(8),l=r(a),u=l.default.div(i);t.default=u},175:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),s=r(u),c=n(1),f=r(c),d=n(176),p=r(d),h=n(174),v=r(h),m=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={markersFilter:e.globalStore.markersFilter},n}return a(t,e),l(t,[{key:"renderChildren",value:function(){var e=this;return s.default.Children.map(this.props.children,function(t){return s.default.cloneElement(t,{globalStore:e.props.globalStore})})}},{key:"componentWillReceiveProps",value:function(e){var t=e.children.props.params,n={key:Object.keys(t)[0]||"all",value:Object.values(t)[0]||null};JSON.stringify(this.state.markersFilter)!==JSON.stringify(n)&&(this.setState({markersFilter:n}),e.globalStore.set({markersFilter:n}),this.content.scrollTop=0)}},{key:"render",value:function(){var e=this;return s.default.createElement(p.default,{innerRef:function(t){e.wrapper=t}},s.default.createElement(v.default,{innerRef:function(t){e.content=t}},this.renderChildren()))}}]),t}(u.PureComponent);m.propTypes={globalStore:f.default.object,children:f.default.node},t.default=m},176:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var i=o(["\n  background-color: white;\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);\n  border-top: 1px solid #e2e8f0;\n  width: 100%;\n  height: 45%;\n  position: absolute;\n  left: 0;\n  bottom: 0;\n\n  ","\n"],["\n  background-color: white;\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);\n  border-top: 1px solid #e2e8f0;\n  width: 100%;\n  height: 45%;\n  position: absolute;\n  left: 0;\n  bottom: 0;\n\n  ","\n"]),a=o(["\n    box-shadow: 0 0 60px rgba(0, 0, 0, 0.2)\n    border: 1px solid #e2e8f0;\n    width: 360px;\n    height: calc(100% - 80px);\n    margin: 40px;\n  "],["\n    box-shadow: 0 0 60px rgba(0, 0, 0, 0.2)\n    border: 1px solid #e2e8f0;\n    width: 360px;\n    height: calc(100% - 80px);\n    margin: 40px;\n  "]),l=n(8),u=r(l),s=n(40),c=u.default.div(i,s.media.large(a));t.default=c},177:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(175),i=r(o);t.default=i.default},183:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),s=r(u),c=n(1),f=r(c),d=n(91),p=r(d),h=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._set=function(e){n.setState(e)},n.state={loading:!0,companies:[],markersFilter:{key:"all",value:null},set:n._set},n}return a(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;fetch(this.props.src).then(function(e){return e.json()}).then(function(t){e.setState({loading:!1,companies:t})}).catch(function(e){console.log("There has been a problem with a fetch operation: "+e.message)})}},{key:"renderChildren",value:function(){var e=this;return s.default.Children.map(this.props.children,function(t){return s.default.cloneElement(t,{globalStore:e.state})})}},{key:"render",value:function(){var e=this.state.loading;return s.default.createElement("div",{style:{height:"100%"}},e?s.default.createElement(p.default,null):this.renderChildren())}}]),t}(u.PureComponent);h.propTypes={src:f.default.string.isRequired,children:f.default.node},t.default=h},184:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(183),i=r(o);t.default=i.default},187:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var i=o(["\n  background-color: #fbfbfb;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n"],["\n  background-color: #fbfbfb;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n"]),a=n(8),l=r(a),u=l.default.div(i);t.default=u},188:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(187),i=r(o);t.default=i.default},192:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=r(o),a=n(126),l=r(a),u=n(188),s=r(u),c=n(184),f=r(c),d=n(172),p=r(d),h=n(177),v=r(h),m=function(e){return i.default.createElement(s.default,null,i.default.createElement(l.default,{title:"London",meta:[{property:"og:url",content:"/london"},{property:"og:title",content:"Honeypotâ€™s London Tech Map - Working as a Software Developer in London"},{property:"og:description",content:""},{property:"og:image",content:"/assets"}]}),i.default.createElement(f.default,{src:"/data/london.json"},i.default.createElement(p.default,{svgurl:"/assets/maps/london.svg"}),i.default.createElement(v.default,null,e.children)))};t.default=m},193:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(192),i=r(o);t.default=i.default}});
//# sourceMappingURL=1.0193ff8d.chunk.js.map